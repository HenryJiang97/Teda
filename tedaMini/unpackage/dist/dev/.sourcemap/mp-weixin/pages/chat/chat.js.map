{"version":3,"sources":["webpack:////Users/henryjiang/Documents/Proj/teda/tedaMini/main.js","webpack:////Users/henryjiang/Documents/Proj/teda/tedaMini/pages/chat/chat.vue","webpack:////Users/henryjiang/Documents/Proj/teda/tedaMini/pages/chat/chat.vue?667f","webpack:////Users/henryjiang/Documents/Proj/teda/tedaMini/pages/chat/chat.vue?4474","webpack:///../../../../../../Users/henryjiang/Documents/Proj/teda/tedaMini/pages/chat/chat.vue","webpack:////Users/henryjiang/Documents/Proj/teda/tedaMini/pages/chat/chat.vue?bc31"],"names":["Page","App"],"mappings":";;;;;;;;;;AAAA;AACA;AACI,4K;AACAA,IAAI,CAAC,+BAAYC,aAAZ,CAAD,CAAJ,C;;;;;;;;;;;;ACHJ;AAAA;AAAA;AAAA;AAAA;AAAmF;AAC3B;AACL;;;AAGnD;AAC6K;AAC7K,gBAAgB,4KAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,+EAAM;AACR,EAAE,wFAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACtCf;AAAA;AAAA;AAAA;AAAq+B,CAAgB,45BAAG,EAAC,C;;;;;;;;;;;;ACAz/B;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACiDA;AACA;AACA,oF;;AAEA;AACA,MADA,kBACA;AACA;AACA,kBADA;AAEA,oBAFA;AAGA,oBAHA;AAIA,aAJA,EAIA;AACA,kCALA;;AAOA,GATA;;AAWA,QAXA,oBAWA;AACA;AACA;AACA;AACA,GAfA;;AAiBA;AACA,kCADA,CAjBA;;;AAqBA;;AAEA,QAFA,kBAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,8BADA;AAEA,8BAFA;AAGA,8BAHA;;AAKA,SAVA,EAUA,KAVA,CAUA;AACA;AACA,SAZA;;AAcA,OAjBA,MAiBA;AACA;;AAEA;;AAEA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,oFADA;;AAGA,KA5DA,EArBA,E;;;;;;;;;;;;;ACrDA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,uBAAuB,mBAAmB;AAC1C,uBAAuB,kBAAkB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,wBAAwB;AAC1C;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,aAAa,sDAAsD;AACnE;AACA;AACA;AACA,4DAA4D;AAC5D,eAAe;AACf,0BAA0B,yBAAyB;AACnD;AACA,8BAA8B,0BAA0B;AACxD;AACA;AACA;AACA,4BAA4B,sBAAsB;AAClD,8BAA8B,4CAA4C;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,sCAAsC,oBAAoB,EAAE;AAC7E;AACA,8BAA8B,mCAAmC;AACjE;AACA;AACA;AACA;AACA,mBAAmB;AACnB,8BAA8B,4BAA4B;AAC1D;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,sBAAsB,SAAS,yCAAyC,EAAE;AAC1E;AACA;AACA;AACA;AACA;AACA","file":"pages/chat/chat.js","sourcesContent":["import 'uni-pages';\nimport pageFactory from 'mpvue-page-factory'\n    import App from './pages/chat/chat.vue'\n    Page(pageFactory(App))","import { render, staticRenderFns } from \"./chat.vue?vue&type=template&id=70427567&\"\nimport script from \"./chat.vue?vue&type=script&lang=js&\"\nexport * from \"./chat.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('70427567', component.options)\n    } else {\n      api.reload('70427567', component.options)\n    }\n    module.hot.accept(\"./chat.vue?vue&type=template&id=70427567&\", function () {\n      api.rerender('70427567', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Users/henryjiang/Documents/Proj/teda/tedaMini/pages/chat/chat.vue\"\nexport default component.exports","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--18-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chat.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--18-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chat.vue?vue&type=script&lang=js&\"","export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chat.vue?vue&type=template&id=70427567&\"","<template>\n\t<view>\n\t\t<cu-custom :isBack=\"true\" bgColor=\"bg-teda text-white\">\n\t\t\t<block slot=\"backText\">返回</block>\n\t\t\t<block slot=\"content\">聊天</block>\n\t\t</cu-custom>\n\n\t\t<!-- 聊天列表 -->\n\t\t<!-- <view class=\"cu-list menu-avatar\" @tap=\"jump('chatDetail')\">\n\t\t\t<view class=\"cu-item cur\" v-for=\"(x,index) in chatList\" :key=\"index\">\n\t\t\t\t<view class=\"cu-avatar radius lg\" :style=\" 'background-image:url(' + x.url + ');'\"></view>\n\t\t\t\t<view class=\"content\">\n\t\t\t\t\t<view><text class=\"text-cut\">{{x.name}}</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"text-gray text-sm flex\"> <text class=\"text-cut\">{{x.desc}}</text></view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view> -->\n\t\t\n\n\t\t<view class=\"cu-list menu-avatar\" @tap=\"jump()\">\n\t\t\t<view class=\"cu-item cur solid-bottom\" v-for=\"(x,index) in chatList\" :key=\"index\">\n\t\t\t\t<view class=\"cu-avatar radius lg\" :style=\" 'background-image:url(' + x.url + ');'\"></view>\n\t\t\t\t<view class=\"content\">\n\t\t\t\t\t<view>\n\t\t\t\t\t\t<text class=\"text-cut\">{{x.name}}</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"flex\">\n\t\t\t\t\t\t<text class=\"text-cut text-gray text-sm\">{{x.desc}}</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"action\" style=\"display: inline;\">\n\t\t\t\t\t<view class=\"text-grey text-xs\">{{x.time}}</view>\n\t\t\t\t\t<view class=\"cuIcon-notice_forbid_fill text-gray\"></view>\n\t\t\t\t\t<view class=\"cuIcon-top\"></view>\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t</view>\n\t\t</view>\n\t\t<!-- 聊天列表 -->\n\t\t\n\t\t<footMenu :pageUrl=\"'chat'\"></footMenu>\n\n\t</view>\n</template>\n\n<script>\n\timport data from '@/common/data.js'\n\timport Parse from '../../common/parse.js'\n\timport { mapState } from 'vuex';\n\t\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tchatList: [],\n\t\t\t\tuser1 : 'User1',\n\t\t\t\tuser2 : 'User2',\n\t\t\t\tcId: '',    // Conversation id\n\t\t\t\tmessage: 'Hey, how are you?',\n\t\t\t};\n\t\t},\n\n\t\tonLoad() {\n\t\t\tthis.chatList = data.chatList\n\t\t\t// console.log(this.chatList);\n\t\t\tconsole.log(\"Conversation Id: \", this.convoId);\n\t\t},\n\n\t\tcomputed: {\n\t\t\t...mapState(['convoId']),    // Load from state\t\n\t\t},\n\t\t\n\t\tmethods: {\n\n\t\t\tjump() {\n\t\t\t\t// Create conversation if not existed yet\n\t\t\t\tif (!((this.user1 + this.user2) in this.convoId)) {\n\t\t\t\t\tconsole.log(\"New conversation\");\n\t\t\t\t\t\n\t\t\t\t\tParse.Cloud.run('createConversation', {user1 : this.user1, user2 : this.user2}).then( r => {\n\t\t\t\t\t\tthis.cId = r;\n\t\t\t\t\t\tconsole.log(\"Conversation id: \", this.cId);\n\t\t\t\t\t\t\n\t\t\t\t\t\t// Assign conversation id to user pair\n\t\t\t\t\t\tthis.$store.commit('setConvoId', {\n\t\t\t\t\t\t\tuser1 : this.user1,\n\t\t\t\t\t\t\tuser2 : this.user2,\n\t\t\t\t\t\t\tconvoId : this.cId\n\t\t\t\t\t\t});\t\t\n\t\t\t\t\t}).catch( e => {\n\t\t\t\t\t\tconsole.log(e);\n\t\t\t\t\t})\n\t\t\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log(\"Return conversation\");\n\t\t\t\t\t\n\t\t\t\t\tthis.cId = this.convoId[this.user1 + this.user2];\n\t\t\t\t\t\n\t\t\t\t\tconsole.log(\"Conversation id: \", this.cId);\n\t\t\t\t}\n\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t// Add message (user2 -> user1)\n\t\t\t\t// let curUser1 = this.user1;\n\t\t\t\t// let curUser2 = this.user2;\n\t\t\t\t// let currentConversationId = this.convoId[curUser2 + curUser1];\n\t\t\t\t// console.log(\"Current conversation id: \", currentConversationId);\n\t\t\t\t// \n\t\t\t\t// Parse.Cloud.run('addMessage', {message: this.message, conversationId: currentConversationId, sender: this.user1}).then( r => {\n\t\t\t\t// \tconsole.log(r);\n\t\t\t\t// }).catch( e => {\n\t\t\t\t// \tconsole.log(e);\n\t\t\t\t// })\n\t\t\t\t\n\t\t\t\t// Show conversations\n\t\t\t\t// let curUser1 = this.user1;\n\t\t\t\t// let curUser2 = this.user2;\n\t\t\t\t// let currentConversationId = this.convoId[curUser2 + curUser1];\n\t\t\t\t// \n\t\t\t\t// Parse.Cloud.run('showMessage', {conversationId: currentConversationId, host: this.user1}).then( r => {\n\t\t\t\t// \tconsole.log(r);\n\t\t\t\t// }).catch( e => {\n\t\t\t\t// \tconsole.log(e);\n\t\t\t\t// })\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t// 在产品详情页面，想要看任何功能都要先登录\n\t\t\t\t//this.$store.commit('needLogin')\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl:'../chatDetail/chatDetail?user1=' + this.user1 + '&user2=' + this.user2\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style>\n\n\n</style>\n","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"view\",\n    [\n      _c(\n        \"cu-custom\",\n        {\n          attrs: {\n            isBack: true,\n            bgColor: \"bg-teda text-white\",\n            mpcomid: \"704de4da-0\"\n          }\n        },\n        [\n          _c(\"block\", { slot: \"backText\" }, [_vm._v(\"返回\")]),\n          _c(\"block\", { slot: \"content\" }, [_vm._v(\"聊天\")])\n        ],\n        1\n      ),\n      _c(\n        \"view\",\n        {\n          staticClass: \"cu-list menu-avatar\",\n          attrs: { eventid: \"704de4da-0\" },\n          on: {\n            tap: function($event) {\n              _vm.jump()\n            }\n          }\n        },\n        _vm._l(_vm.chatList, function(x, index) {\n          return _c(\n            \"view\",\n            { key: index, staticClass: \"cu-item cur solid-bottom\" },\n            [\n              _c(\"view\", {\n                staticClass: \"cu-avatar radius lg\",\n                style: \"background-image:url(\" + x.url + \");\"\n              }),\n              _c(\"view\", { staticClass: \"content\" }, [\n                _c(\"view\", [\n                  _c(\"text\", { staticClass: \"text-cut\" }, [\n                    _vm._v(_vm._s(x.name))\n                  ])\n                ]),\n                _c(\"view\", { staticClass: \"flex\" }, [\n                  _c(\"text\", { staticClass: \"text-cut text-gray text-sm\" }, [\n                    _vm._v(_vm._s(x.desc))\n                  ])\n                ])\n              ]),\n              _c(\n                \"view\",\n                { staticClass: \"action\", staticStyle: { display: \"inline\" } },\n                [\n                  _c(\"view\", { staticClass: \"text-grey text-xs\" }, [\n                    _vm._v(_vm._s(x.time))\n                  ]),\n                  _c(\"view\", {\n                    staticClass: \"cuIcon-notice_forbid_fill text-gray\"\n                  }),\n                  _c(\"view\", { staticClass: \"cuIcon-top\" })\n                ]\n              )\n            ]\n          )\n        })\n      ),\n      _c(\"footMenu\", { attrs: { pageUrl: \"chat\", mpcomid: \"704de4da-1\" } })\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }"],"sourceRoot":""}